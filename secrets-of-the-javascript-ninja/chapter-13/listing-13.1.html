<!DOCTYPE html>
<html>
  <head>
    <title>Listing 13.1</title>
    <meta charset="utf-8">
    <script type="text/javascript" src="../scripts/assert.js"></script>
    <link href="../styles/assert.css" rel="stylesheet" type="text/css">
    <script type="text/javascript">

      if (document.addEventListener) {                           //#1 DOM 모델을 검사한다.

        this.addEvent = function (elem, type, fn) {              //#2
          elem.addEventListener(type, fn, false);
          return fn;
        };

        this.removeEvent = function (elem, type, fn) {           //#3
          elem.removeEventListener(type, fn, false);
        };

      }
      else if (document.attachEvent) {                          //#4 IE 모델을 검사한다.

        this.addEvent = function (elem, type, fn) {             //#5
          var bound = function () {
            return fn.apply(elem, arguments);
          };
          elem.attachEvent("on" + type, bound);
          return bound;
        };

        this.removeEvent = function (elem, type, fn) {          //#6
          elem.detachEvent("on" + type, fn);
        };

      }
    </script>
    <script type="text/javascript" src="listing-13.2.js"></script>
  </head>
  <body>

    <div title="Click me">클릭하세요.</div>
    <div title="but only once">딱, 한번만</div>

  </body>
</html>
