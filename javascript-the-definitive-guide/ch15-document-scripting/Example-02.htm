<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>[Ch15] Example-02</title>
</head>
<body style="background-color: #aaa; color: #fff;">
<a href="" onclick="listAnchors(window.document)">Click me</a> <br>
<a href="" name="one">1</a> <br>
<a href="" name="two">2</a> <br>
<a href="" name="three">3</a> <br>

<script>
// p.409 레거시 DOM 예제

    function listAnchors(d) {
        var new_win = window.open("", "navwin",
                                 "menubar=yes, scrollbar=yes, resizeable=yes," +
                                 "width=500, height=300");
        new_win.document.write("<h1>Navigation Window: " + d.title + "</h1>");

        for(var i =0; i < d.anchors.length; i++) {
            var a = d.anchors[i];
            var text = null;
            if (a.text) text = a.text;
            else if (a.innerText) text = a.innerText;
            if ((text == null) || (text == '')) text = a.name;

            new_win.document.write('<a href="#' + a.name + '"' + 'onclick="opener.location.hash=\'' + a.name + '\'; return false;">');
            new_win.document.write(text);
            new_win.document.write('</a><br>');
        }
        new_win.document.close();
    }
</script>
</body>
</html>